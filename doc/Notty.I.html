<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Notty.A.html">
<link rel="next" href="Notty.Infix.html">
<link rel="Up" href="Notty.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Notty" rel="Chapter" href="Notty.html">
<link title="Notty_unix" rel="Chapter" href="Notty_unix.html">
<link title="Notty_lwt" rel="Chapter" href="Notty_lwt.html"><link title="Primitives" rel="Section" href="#imgprims">
<link title="Image composition" rel="Section" href="#imgcomp">
<link title="Cropping and padding" rel="Section" href="#imgcrop">
<link title="Additional combinators" rel="Section" href="#1_Additionalcombinators">
<link title="Format interoperability" rel="Section" href="#1_Formatinteroperability">
<title>Notty.I</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Notty.A.html" title="Notty.A">Previous</a>
&nbsp;<a class="up" href="Notty.html" title="Notty">Up</a>
&nbsp;<a class="post" href="Notty.Infix.html" title="Notty.Infix">Next</a>
</div>
<h1>Module <a href="type_Notty.I.html">Notty.I</a></h1>

<pre><span class="keyword">module</span> I: <code class="code"><span class="keyword">sig</span></code> <a href="Notty.I.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<code class="code"><span class="constructor">I</span></code> is for image.
<p>

    Construction and composition of images.
<p>

    Consult the <a href="Notty.html#basics">basics</a> for an overview.<br>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type"><a href="Notty.html#TYPEimage">image</a></code> </pre>


<pre><span id="VALheight"><span class="keyword">val</span> height</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a> -> int</code></pre>
<pre><span id="VALwidth"><span class="keyword">val</span> width</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a> -> int</code></pre>
<pre><span id="VALequal"><span class="keyword">val</span> equal</span> : <code class="type"><a href="Notty.I.html#TYPEt">t</a> -> <a href="Notty.I.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<code class="code">equal&nbsp;t1&nbsp;t2</code> is <code class="code"><span class="keyword">true</span></code> iff <code class="code">t1</code> and <code class="code">t2</code> are constructed by the same term.
<p>

      <b>Note</b> This is a weak form of equality. Images that are not <code class="code">equal</code>
      could still render the same.<br>
</div>
<br>
<h1 id="imgprims">Primitives</h1><br>

<pre><span id="VALempty"><span class="keyword">val</span> empty</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">empty</code> is a zero-sized image.<br>
</div>

<pre><span id="VALstring"><span class="keyword">val</span> string</span> : <code class="type"><a href="Notty.html#TYPEattr">attr</a> -> string -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">string&nbsp;attr&nbsp;s</code> is an image containing text <code class="code">s</code>, styled with <code class="code">attr</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">string</code> is not a valid UTF-8 sequence, or
      contains <a href="Notty.html#ctrls">control characters</a>.<br>
</div>

<pre><span id="VALuchars"><span class="keyword">val</span> uchars</span> : <code class="type"><a href="Notty.html#TYPEattr">attr</a> -> Uchar.t array -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">uchars&nbsp;attr&nbsp;us</code> is an image containing text <code class="code">us</code>, styled with <code class="code">attr</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">us</code> contains <a href="Notty.html#ctrls">control characters</a>.<br>
</div>

<pre><span id="VALchar"><span class="keyword">val</span> char</span> : <code class="type"><a href="Notty.html#TYPEattr">attr</a> -> char -> int -> int -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">char&nbsp;attr&nbsp;c&nbsp;w&nbsp;h</code> is a <code class="code">w&nbsp;*&nbsp;h</code> grid of <code class="code">c</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">c</code> is a <a href="Notty.html#ctrls">control character</a>.<br>
</div>

<pre><span id="VALuchar"><span class="keyword">val</span> uchar</span> : <code class="type"><a href="Notty.html#TYPEattr">attr</a> -> Uchar.t -> int -> int -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">uchar&nbsp;attr&nbsp;u&nbsp;w&nbsp;h</code> is a <code class="code">w&nbsp;*&nbsp;h</code> grid of <code class="code">u</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">u</code> is a <a href="Notty.html#ctrls">control character</a>.<br>
</div>

<pre><span id="VALvoid"><span class="keyword">val</span> void</span> : <code class="type">int -> int -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">void&nbsp;w&nbsp;h</code> is a <code class="code">w&nbsp;*&nbsp;h</code> rectangle of transparent cells.
<p>

      <code class="code">void</code> is magical: it has geometry, but no displayable content. This is
      different, for example, from the space character <code class="code"><span class="constructor">U</span>+0020</code>, which renders
      as a cell filled with the background color. This means that <code class="code">void</code>
      interacts specially with <a href="Notty.I.html#VAL(</>)">overlays</a>.
<p>

      <code class="code">void&nbsp;0&nbsp;0&nbsp;=&nbsp;empty</code>.
      <code class="code">void</code> with only one dimension <code class="code">0</code> acts as a spacing element in the other
      dimension. Negative size is treated as <code class="code">0</code>.<br>
</div>
<br>
<h1 id="imgcomp">Image composition</h1>
<p>

      Three basic composition modes allow construction of more complex images
      from simpler ones.
<p>

      Composition operators are left-associative and form a monoid with <code class="code">void</code>.<br>

<pre><span id="VAL(<|>)"><span class="keyword">val</span> (&lt;|&gt;)</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">i1&nbsp;&lt;|&gt;&nbsp;i2</code> is the horizontal combination of <code class="code">i1</code> and <code class="code">i2</code>.
<p>

      <code class="code">width&nbsp;(i1&nbsp;&lt;|&gt;&nbsp;i2)&nbsp;=&nbsp;width&nbsp;i1&nbsp;+&nbsp;width&nbsp;i2</code>
      <code class="code">height&nbsp;(i1&nbsp;&lt;|&gt;&nbsp;i2)&nbsp;=&nbsp;max&nbsp;(height&nbsp;i1)&nbsp;(height&nbsp;i2)</code>
<p>

      Images are top-aligned. The missing region is implicitly filled with
      <a href="Notty.I.html#VALvoid"><code class="code">void</code></a>.
<p>

<pre class="verbatim">[x] &lt;|&gt; [y] = [xy]
        [y]   [.y]</pre>
<p>

      where <code class="code">.</code> denotes <a href="Notty.I.html#VALvoid"><code class="code">void</code></a>.<br>
</div>

<pre><span id="VAL(<->)"><span class="keyword">val</span> (&lt;-&gt;)</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">i1&nbsp;&lt;-&gt;&nbsp;i2</code> is the vertical combination of <code class="code">i1</code> and <code class="code">i2</code>.
<p>

      <code class="code">width&nbsp;(i1&nbsp;&lt;-&gt;&nbsp;i2)&nbsp;=&nbsp;max&nbsp;(width&nbsp;i1)&nbsp;(width&nbsp;i2)</code>
      <code class="code">height&nbsp;(i1&nbsp;&lt;-&gt;&nbsp;i2)&nbsp;=&nbsp;height&nbsp;i1&nbsp;+&nbsp;height&nbsp;i2</code>
<p>

      Images are left-aligned. The missing region is implicitly filled with
      <a href="Notty.I.html#VALvoid"><code class="code">void</code></a>.
<p>

<pre class="verbatim">[xx] &lt;-&gt; [y] = [xx]
               [y.]</pre><br>
</div>

<pre><span id="VAL(</>)"><span class="keyword">val</span> (&lt;/&gt;)</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">i1&nbsp;&lt;/&gt;&nbsp;i2</code> is <code class="code">i1</code> overlaid over <code class="code">i2</code>.
<p>

      <code class="code">width&nbsp;(i1&nbsp;&lt;/&gt;&nbsp;i2)&nbsp;=&nbsp;max&nbsp;(width&nbsp;i1)&nbsp;(width&nbsp;i2)</code>
      <code class="code">height&nbsp;(i1&nbsp;&lt;/&gt;&nbsp;i2)&nbsp;=&nbsp;max&nbsp;(height&nbsp;i1)&nbsp;(height&nbsp;i2)</code>
<p>

      Images are top-left-aligned. In the region of their overlap, only the
      <a href="Notty.I.html#VALvoid"><code class="code">void</code></a> cells of <code class="code">i1</code> show fragments of <code class="code">i2</code>.
<p>

<pre class="verbatim">[x.x] &lt;/&gt; [yyyy] = [xyxy]</pre><br>
</div>
<br>
<h1 id="imgcrop">Cropping and padding</h1><br>

<pre><span id="VALhcrop"><span class="keyword">val</span> hcrop</span> : <code class="type">int -> int -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">hcrop&nbsp;left&nbsp;right&nbsp;i</code> is <code class="code">i</code> with <code class="code">left</code> leftmost, and <code class="code">right</code>
      rightmost columns missing. If <code class="code">left&nbsp;+&nbsp;right&nbsp;&gt;=&nbsp;width&nbsp;i</code> the result is
      <code class="code">empty</code>.
<p>

      If either <code class="code">left</code> or <code class="code">right</code> is negative, instead of being cropped, the
      image is padded on that side.
<p>

      For example:
      <ul>
<li><code class="code">hcrop&nbsp;0&nbsp;1&nbsp;[abc]</code> = <code class="code">[ab]</code></li>
<li><code class="code">hcrop&nbsp;1&nbsp;1&nbsp;[abc]</code> = <code class="code">[b]</code></li>
<li><code class="code">hcrop&nbsp;(-1)&nbsp;1&nbsp;[abc]</code> = <code class="code">void&nbsp;1&nbsp;1&nbsp;&lt;|&gt;&nbsp;hcrop&nbsp;0&nbsp;1&nbsp;[abc]</code> = <code class="code">[.ab]</code></li>
<li><code class="code">hcrop&nbsp;2&nbsp;2&nbsp;[abc]</code> = <code class="code">empty</code></li>
</ul>
<br>
</div>

<pre><span id="VALvcrop"><span class="keyword">val</span> vcrop</span> : <code class="type">int -> int -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">vcrop&nbsp;top&nbsp;bottom&nbsp;i</code> is the vertical analogue to <a href="Notty.I.html#VALhcrop"><code class="code">hcrop</code></a>.<br>
</div>

<pre><span id="VALcrop"><span class="keyword">val</span> crop</span> : <code class="type">?l:int -> ?r:int -> ?t:int -> ?b:int -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">crop&nbsp;~l:left&nbsp;~r:right&nbsp;~t:top&nbsp;~b:bottom&nbsp;i</code> is
      <code class="code">vcrop&nbsp;left&nbsp;right&nbsp;(hcrop&nbsp;top&nbsp;bottom)&nbsp;i</code>.
<p>

      Missing arguments default to <code class="code">0</code>.<br>
</div>

<pre><span id="VALhpad"><span class="keyword">val</span> hpad</span> : <code class="type">int -> int -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<a href="Notty.I.html#VALhcrop"><code class="code">hcrop</code></a> with margins negated.<br>
</div>

<pre><span id="VALvpad"><span class="keyword">val</span> vpad</span> : <code class="type">int -> int -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<a href="Notty.I.html#VALvcrop"><code class="code">vcrop</code></a> with margins negated.<br>
</div>

<pre><span id="VALpad"><span class="keyword">val</span> pad</span> : <code class="type">?l:int -> ?r:int -> ?t:int -> ?b:int -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<a href="Notty.I.html#VALcrop"><code class="code">crop</code></a> with margins negated.<br>
</div>
<br>
<h1 id="1_Additionalcombinators">Additional combinators</h1><br>

<pre><span id="VALhcat"><span class="keyword">val</span> hcat</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a> list -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">hcat&nbsp;xs</code> horizontally concatenates <code class="code">xs</code>. See <a href="Notty.I.html#VAL(<|>)">beside</a>.<br>
</div>

<pre><span id="VALvcat"><span class="keyword">val</span> vcat</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a> list -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">vcat&nbsp;xs</code> vertically concatenates <code class="code">xs</code>. See <a href="Notty.I.html#VAL(<->)">above</a>.<br>
</div>

<pre><span id="VALzcat"><span class="keyword">val</span> zcat</span> : <code class="type"><a href="Notty.html#TYPEimage">image</a> list -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">zcat&nbsp;xs</code> overlays <code class="code">xs</code>. See <a href="Notty.I.html#VAL(</>)">over</a>.<br>
</div>

<pre><span id="VALtabulate"><span class="keyword">val</span> tabulate</span> : <code class="type">int -> int -> (int -> int -> <a href="Notty.html#TYPEimage">image</a>) -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">tabulate&nbsp;m&nbsp;n&nbsp;f</code> is the grid of values <code class="code">f&nbsp;x&nbsp;y</code> with <code class="code">x&nbsp;=&nbsp;0..m-1</code>
      and <code class="code">y&nbsp;=&nbsp;0..n-1</code>, where <code class="code">x</code> grows to the right, and <code class="code">y</code> growns down.
<p>

      <code class="code">f&nbsp;a&nbsp;y</code> is to the left of <code class="code">f&nbsp;b&nbsp;y</code> if <code class="code">a&nbsp;&lt;&nbsp;b</code>, and <code class="code">f&nbsp;x&nbsp;a</code> is above <code class="code">f&nbsp;x&nbsp;b</code>
      if <code class="code">a&nbsp;&lt;&nbsp;b</code>, but the exact alignment is unspecified if the various <code class="code">f&nbsp;x&nbsp;y</code>
      have different dimensions.<br>
</div>

<pre><span id="VALhsnap"><span class="keyword">val</span> hsnap</span> : <code class="type">?align:[ `Left | `Middle | `Right ] -> int -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">hsnap&nbsp;~align&nbsp;w&nbsp;i</code> is an image of width strictly <code class="code">w</code> obtained by either
      horizontally padding or cropping <code class="code">i</code> and positioning it according to
      <code class="code">~align</code>.
<p>

      <code class="code">~align</code> defaults to <code class="code"><span class="keywordsign">`</span><span class="constructor">Middle</span></code>.<br>
</div>

<pre><span id="VALvsnap"><span class="keyword">val</span> vsnap</span> : <code class="type">?align:[ `Bottom | `Middle | `Top ] -> int -> <a href="Notty.html#TYPEimage">image</a> -> <a href="Notty.html#TYPEimage">image</a></code></pre><div class="info ">
<code class="code">vsnap&nbsp;~align&nbsp;h&nbsp;i</code> is an image of height strictly <code class="code">h</code> obtained by either
      vertically padding or cropping <code class="code">i</code> and positioning it according to
      <code class="code">~align</code>.
<p>

      <code class="code">~align</code> defaults to <code class="code"><span class="keywordsign">`</span><span class="constructor">Middle</span></code>.<br>
</div>
<br>
<h1 id="1_Formatinteroperability"><code class="code"><span class="constructor">Format</span></code> interoperability</h1><br>

<pre><span id="VALstrf"><span class="keyword">val</span> strf</span> : <code class="type">?attr:<a href="Notty.html#TYPEattr">attr</a> -><br>       ?w:int -> ('a, Format.formatter, unit, <a href="Notty.html#TYPEimage">image</a>) format4 -> 'a</code></pre><div class="info ">
<code class="code">strf&nbsp;?attr&nbsp;?w:width&nbsp;format&nbsp;...</code> pretty-prints like
      <code class="code"><span class="constructor">Format</span>.asprintf&nbsp;format&nbsp;...</code>, but returns an <code class="code">image</code>.
<p>

      <code class="code">attr</code> is the (outermost) attribute. Defaults to <a href="Notty.A.html#VALempty"><code class="code"><span class="constructor">A</span>.empty</code></a>.
<p>

      <code class="code">width</code> is used to set the margin on the formatter. This is only a hint,
      and does not guarantee the width of the result. Consult
      <a href=" http://caml.inria.fr/pub/docs/manual-ocaml/libref/Format.html#VALset_margin">
      <code class="code"><span class="constructor">Format</span>.set_margin</code></a> for details. Defaults to an unspecified, large
      number.<br>
</div>

<pre><span id="VALkstrf"><span class="keyword">val</span> kstrf</span> : <code class="type">?attr:<a href="Notty.html#TYPEattr">attr</a> -><br>       ?w:int -><br>       (<a href="Notty.html#TYPEimage">image</a> -> 'a) -><br>       ('b, Format.formatter, unit, 'a) format4 -> 'b</code></pre><div class="info ">
<code class="code">kstrf&nbsp;?attr&nbsp;?w&nbsp;k&nbsp;format&nbsp;...</code> is continuation-based <code class="code">strf&nbsp;?attr&nbsp;?w&nbsp;format&nbsp;...</code>.<br>
</div>

<pre><span id="VALpp_attr"><span class="keyword">val</span> pp_attr</span> : <code class="type"><a href="Notty.html#TYPEattr">attr</a> -><br>       (Format.formatter -> 'a -> unit) -> Format.formatter -> 'a -> unit</code></pre><div class="info ">
<code class="code">pp_attr&nbsp;a&nbsp;f</code> is a pretty-printer like <code class="code">f</code>, except its output is styled
      with <code class="code">a</code>. This applies only outside of any styling <code class="code">f</code> itself might embed.<br>
</div>
</body></html>